# ThinkingModule - –ú–æ–¥—É–ª—å —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ
ThinkingModule (–ú—ã—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å) - —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –ü–µ—Ç–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç AI —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º—É –º—ã—à–ª–µ–Ω–∏—é —Å –ø–æ–ª–Ω—ã–º –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä–µ —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `timestamp` - –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (Unix timestamp)
- `formattedTime` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è ("14:35:22")
- `relativeTime` - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è ("2 –º–∏–Ω –Ω–∞–∑–∞–¥")

### 2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞
–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∏—à–∏–Ω—ã –≤ —á–∞—Ç–µ
- –°—Ä–µ–¥–Ω–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º (Discord, Telegram, API)

### 3. –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
–ú–æ–¥—É–ª—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (uptime)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –≤ –ø–∞–º—è—Ç–∏
- –†–µ–∂–∏–º –æ—Ç–≤–µ—Ç–æ–≤
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –º—ã—à–ª–µ–Ω–∏—è

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–º –º—ã—à–ª–µ–Ω–∏—è
- `dream.on` - –í–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è
- `dream.off` - –í—ã–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –º—ã—à–ª–µ–Ω–∏—è

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### ChatMessage
```typescript
interface ChatMessage {
  content: string;
  username: string;
  channelId: string;
  platform: 'discord' | 'telegram' | 'api';
  timestamp: number;
  formattedTime: string;    // "14:35:22"
  relativeTime: string;     // "2 –º–∏–Ω –Ω–∞–∑–∞–¥"
}
```

### ChatStats
```typescript
interface ChatStats {
  totalMessagesLastHour: number;
  totalMessagesLast5Min: number;
  activeUsers: string[];
  lastMessageTime: number;
  silenceDuration: number;
  averageMessageInterval: number;
  platformBreakdown: {
    discord: number;
    telegram: number;
    api: number;
  };
}
```

### SystemStatus
```typescript
interface SystemStatus {
  uptime: number;
  logsCount: number;
  config: {
    responseMode: string;
    thinkingIntervalMs: number;
  };
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```typescript
import { ApiNeiro } from './src/core/ai/neiro';

const neiro = new ApiNeiro();
const thinking = neiro.getThinkingModule();
```

### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –º—ã—à–ª–µ–Ω–∏—è
```typescript
thinking.enable();
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
```typescript
thinking.addMessage(
  '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
  'username',
  'channel-id',
  'discord'
);
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –º—ã—à–ª–µ–Ω–∏—è
```typescript
const prompt = thinking.buildThinkingPrompt();
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ MemoryMessage —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è AI
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ AI Actions
```typescript
// –í —á–∞—Ç–µ Discord
@–ü–µ—Ç–∞–ª [AI_ACTION:dream.on]{}[/AI_ACTION]
@–ü–µ—Ç–∞–ª [AI_ACTION:dream.off]{}[/AI_ACTION]
```

## –§–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –º—ã—à–ª–µ–Ω–∏—è

–ú–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç:

1. **–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è** - —Å –¥–Ω–µ–º –Ω–µ–¥–µ–ª–∏ –∏ –ø–æ–ª–Ω–æ–π –¥–∞—Ç–æ–π
2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã** - uptime, –ª–æ–≥–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–∞—Ç–∞** - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
4. **–ò—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π** - —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

–ü—Ä–∏–º–µ—Ä:
```
‚è∞ –¢–ï–ö–£–©–ï–ï –í–†–ï–ú–Ø: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 14 –¥–µ–∫–∞–±—Ä—è 2025 –≥. –≤ 20:41:58

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´:
- Uptime: 120 –º–∏–Ω—É—Ç
- –õ–æ–≥–æ–≤ –≤ –ø–∞–º—è—Ç–∏: 47
- –†–µ–∂–∏–º –æ—Ç–≤–µ—Ç–æ–≤: auto
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –º—ã—à–ª–µ–Ω–∏—è: 300—Å

üí¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ß–ê–¢–ê:
- –°–æ–æ–±—â–µ–Ω–∏–π –∑–∞ —á–∞—Å: 47
- –°–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 5 –º–∏–Ω: 12
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: Kazilsky, User123, TestUser
- –¢–∏—à–∏–Ω–∞: –Ω–µ—Ç
- –ü–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º: Discord 35, TG 10, API 2

üìù –ò–°–¢–û–†–ò–Ø –°–û–û–ë–©–ï–ù–ò–ô:
[15:40:12 | 2 –º–∏–Ω –Ω–∞–∑–∞–¥] [discord/Kazilsky]: —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º
[15:41:05 | 1 –º–∏–Ω –Ω–∞–∑–∞–¥] [discord/User123]: —á—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç?
[15:41:58 | 34 —Å–µ–∫ –Ω–∞–∑–∞–¥] [discord/Kazilsky]: –±–æ—Ç —Å AI
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

–ü–µ—Ç–∞–ª —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç:
- –ü–æ–Ω–∏–º–∞—Ç—å —Ç–æ—á–Ω–æ–µ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∏ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏
- –ó–Ω–∞—Ç—å –∫–æ–≥–¥–∞ –±—ã–ª–æ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
- –û–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—à–ª–æ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ü–µ–Ω–∏–≤–∞—Ç—å –Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–µ–Ω —á–∞—Ç
- –í–∏–¥–µ—Ç—å –∫—Ç–æ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–µ–Ω
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å —É–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–µ –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä

## –ü—Ä–∏–º–µ—Ä—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è

- **–¢–∏—à–∏–Ω–∞ –≤ —á–∞—Ç–µ** - –ü–µ—Ç–∞–ª –Ω–µ –±—É–¥–µ—Ç –≤—Ä—ã–≤–∞—Ç—å—Å—è –µ—Å–ª–∏ –ø—Ä–æ—à–µ–ª —á–∞—Å —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ê–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ** - –ï—Å–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç –±—ã–ª–æ –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–∂–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –ó–Ω–∞–µ—Ç —á—Ç–æ –æ–±—Å—É–∂–¥–∞–ª–∏ "—Ç–æ–ª—å–∫–æ —á—Ç–æ" vs "—á–∞—Å –Ω–∞–∑–∞–¥"
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - –í–∏–¥–∏—Ç –∫–æ–≥–¥–∞ —á–∞—Ç –æ–±—ã—á–Ω–æ –∞–∫—Ç–∏–≤–µ–Ω
